<!DOCTYPE html>
<html>
<head>
    <title>Debug - Imagens dos Esportes</title>
    <style>
        body { font-family: Arial, sans-serif; background: #111; color: #fff; padding: 20px; }
        .result { background: #222; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #007; }
        .error { border-left-color: #f00; }
        .success { border-left-color: #0f0; }
        pre { background: #000; padding: 10px; overflow-x: auto; white-space: pre-wrap; }
        .image-test { display: inline-block; margin: 10px; padding: 10px; border: 1px solid #444; border-radius: 8px; }
        .image-test img { max-width: 150px; max-height: 150px; border-radius: 4px; }
    </style>
</head>
<body>
    <h1>üñºÔ∏è Debug - Imagens dos Esportes</h1>
    <button onclick="testarImagens()">Testar Imagens dos Esportes</button>
    
    <div id="results"></div>

    <script>
        function log(message, type = 'info') {
            const resultsDiv = document.getElementById('results');
            const logDiv = document.createElement('div');
            logDiv.className = `result ${type}`;
            logDiv.innerHTML = `<strong>${new Date().toLocaleTimeString()}:</strong> ${message}`;
            resultsDiv.appendChild(logDiv);
            console.log(message);
        }

        async function testarImagens() {
            document.getElementById('results').innerHTML = '';
            log('üöÄ Iniciando teste de imagens dos esportes...');

            try {
                const response = await fetch('https://atleticahubapi.onrender.com/api/esportes', {
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });

                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }

                const esportes = await response.json();
                log(`‚úÖ API funcionando! Encontrados ${esportes.length} esportes`, 'success');

                // Mostrar dados de cada esporte
                esportes.forEach((esporte, index) => {
                    log(`<strong>Esporte ${index + 1}:</strong><pre>${JSON.stringify(esporte, null, 2)}</pre>`);
                    
                    // Testar se as imagens carregam
                    if (esporte.fotoUrl) {
                        const imageDiv = document.createElement('div');
                        imageDiv.className = 'image-test';
                        imageDiv.innerHTML = `
                            <h4>${esporte.nome}</h4>
                            <p>URL: ${esporte.fotoUrl}</p>
                            <img src="${esporte.fotoUrl}" 
                                 alt="${esporte.nome}" 
                                 onload="console.log('‚úÖ Imagem carregada:', '${esporte.nome}')"
                                 onerror="console.log('‚ùå Erro ao carregar:', '${esporte.fotoUrl}'); this.style.display='none'; this.nextSibling.style.display='block';"
                            />
                            <p style="display:none; color: red;">‚ùå Falha ao carregar imagem</p>
                        `;
                        document.getElementById('results').appendChild(imageDiv);
                    } else {
                        log(`‚ö†Ô∏è ${esporte.nome}: Sem fotoUrl definida`, 'error');
                    }
                });

            } catch (error) {
                log(`‚ùå Erro: ${error.message}`, 'error');
            }
        }

        // Executar teste automaticamente
        window.onload = () => {
            setTimeout(testarImagens, 1000);
        };
    </script>
</body>
</html>
